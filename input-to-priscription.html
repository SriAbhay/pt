<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>patient Data Form</title>
    <style>
        .display-container {
            margin-top: 20px;
        }
        .patient-info {
            margin-bottom: 10px;
        }
    </style>

    
<script>
    // Function to generate a random 5-digit number
    function generateRandomNumber() {
        // Math.random() generates a float between 0 and 1
        // Multiplying by 90000 and adding 10000 gives a number between 10000 and 99999
        const randomNumber = Math.floor(Math.random() * 90000) + 10000;
        document.getElementById("randomNumber").textContent = randomNumber;
    }

    // Trigger random number generation on page load
    window.onload = generateRandomNumber;
</script>

</head>
<body>

    <h2>Addmission Data Form</h2>
    <table>
        <tr>
            <td>UHID: NLPD/24/</td><td><p id="randomNumber"></p></td>
        </tr>
        </table>
    <!-- patient Input Form -->
     <table>
    <form id="patientForm">
        <tr>
            <td>
        <label for="patientAge">UHID:</label></br>
        <input type="text" id="patientUHID" name="patientUHID" value="UHID : " required></td>

            <td>
        <label for="patientName">Name:</label></br>
        <input type="text" id="patientName" name="patientName" value="Name : " required></td>

        <td>
        <label for="patientAge">Age:</label></br>
        <input type="text" id="patientAge" name="patientAge" value="Age : " required></td>

        <td>
        <label for="patientGender">Gender:</label></br>
        <input type="text" id="patientGender" name="patientGender" value="Gender : " required></td>

        <td>
        <label for="patientAddress">Address:</label></br>
        <input type="text" id="patientAddress" name="patientAddress" value="Address : " required></td>

        <td>
        <label for="patientDate">Date:</label></br>
        <input type="text" id="patientDate" name="patientDate"  value="Date : "required></td>
        </tr>

        <tr>
        <td>
        <label for="patientValidationdate">Validation date:</label></br>
        <input type="text" id="patientValidationdate" name="patientValidationdate" value="Valid date : " required></td>

        <td>
        <label for="patientDocname">Doctor's Name:</label></br>
        <input type="text" id="patientDocname" name="patientDocname" value="Doctor Name : " required></td>

        <td>
        <label for="patientPannel:">Pannel:</label></br>
        <input type="text" id="patientPannel" name="patientPannel" value="Pannel : " required></td>

        <td>
        <label for="patientContact">Contact:</label></br>
        <input type="text" id="patientContact" name="patientContact" value="Contact : " required></td>

        <td>
        <label for="patientBillno">Bill no.:</label></br>
        <input type="text" id="patientBillno" name="patientBillno" value="Bill no. : " required></td>

        <td>
        <label for="patientBilldate">Bill date:</label></br>
        <input type="text" id="patientBilldate" name="patientBilldate" value="Bill Date : " required></td>
        </tr>

        <tr>
        <td>
        <label for="patientAppointmentmode">Appointment Mode:</label></br>
        <input type="text" id="patientAppointmentmode" name="patientAppointmentmode" value="App mode : " required></td>

        <td>
        <label for="patientReferredby">Referred by:</label></br>
        <input type="text" id="patientReferredby" name="patientReferredby" value="Refered by : " required></td>

        <td>
        <label for="patientAdharno">Adhar No.:</label></br>
        <input type="text" id="patientAdharno" name="patientAdharno" value="Adhar no : " required></td>

        <td>
        <label for="patientdocfees">Doctor's Fees.:</label></br>
        <input type="text" id="patientdocfees" name="patientdocfees" value="OPD Fees : " required></td>

        <td>
        <label for="patientdocfeesdiscount">Discount:</label></br>
        <input type="text" id="patientdocfeesdiscount" name="patientdocfeesdiscount" value="Discount : " required></td>

        <td>
        <label for="patienttotal">Total :</label></br>
        <input type="text" id="patienttotal" name="patienttotal" value="TOTAL : " required></td>

        <td>
        <button type="submit">Submit</button>
    </form>
</td></tr>
    </table>

    <div class="display-container" id="displayArea">
        <!-- Display patient Data here -->
    </div>


    <script>
        document.getElementById('patientForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const formData = new FormData(this);
            fetch('https://script.google.com/macros/s/AKfycbxTSNmdEkhT2hZXQEMBv9wqDZiTTitlRvYbHyRbwzLp1XsLwot6YXqRdEKg8IwDJ-FPWQ/exec',{
                method: 'POST',
                body: formData,
            })
            .then(response => response.text())
            .then(data => {
                alert(data);
                document.getElementById('patientForm').reset();
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
    </script>
    


    <script>
        // Get the form and display area elements
        const form = document.getElementById('patientForm');
        const displayArea = document.getElementById('displayArea');

        // Listen for form submission
        form.addEventListener('submit', function(event) {
            event.preventDefault();  // Prevent the form from submitting to the server

            // Get patient data from the input fields
            const patientUHID = document.getElementById('patientUHID').value;
            const patientName = document.getElementById('patientName').value;
            const patientAge = document.getElementById('patientAge').value;
            const patientGender = document.getElementById('patientGender').value;
            const patientAddress = document.getElementById('patientAddress').value;
            const patientDate = document.getElementById('patientDate').value;
            const patientValidationdate = document.getElementById('patientValidationdate').value;
            const patientDocname = document.getElementById('patientDocname').value;
            const patientPannel = document.getElementById('patientPannel').value;
            const patientContact = document.getElementById('patientContact').value;
            const patientBillno = document.getElementById('patientBillno').value;
            const patientBilldate = document.getElementById('patientBilldate').value;
            const patientAppointmentmode = document.getElementById('patientAppointmentmode').value;
            const patientReferredby = document.getElementById('patientReferredby').value;
            const patientAdharno = document.getElementById('patientAdharno').value;
            const patientdocfees = document.getElementById('patientdocfees').value;
            const patientdocfeesdiscount = document.getElementById('patientdocfeesdiscount').value;
            const patienttotal = document.getElementById('patienttotal').value;
           
            // Check if all fields are filled out
            if (patientName && patientAge && patientGender) {
                // Clear any previous display content
                displayArea.innerHTML = '';

                // Create a container for displaying the patient data

                const patientInfo = document.createElement('div');
                patientInfo.classList.add('patient-info');
                patientInfo.innerHTML = `
                    <h3>Patient Information:</h3>
                    <img src="NLPD-header.png" width="775"></br>
                    <table>
                        <tr>
                        <td>
                        <p> 
                    <strong>UHID:</strong> ${patientUHID}</br>
                    <strong>Name:</strong> ${patientName}</br>
                    <strong>Age:</strong> ${patientAge}</br>
                    <strong>Gender:</strong> ${patientGender}</br>
                    <strong>Address:</strong> ${patientAddress}</p>
                    </td>
                        <td>
                        <p>
                    <strong>Date:</strong> ${patientDate}</br>
                    <strong>Validation Date:</strong> ${patientValidationdate}</br>
                    <strong>Doctor's Name:</strong> ${patientDocname}</br>
                    <strong>Pannel:</strong> ${patientPannel}</br>
                    <strong>Contact:</strong> ${patientContact}</p>
                    </td>
                    <td>
                        <p> 
                    <strong>Billno:</strong> ${patientBillno}</br>
                    <strong>Billdate:</strong> ${patientBilldate}</br>
                    <strong>Appointment Mode:</strong> ${patientAppointmentmode}</br>
                    <strong>Referred by:</strong> ${patientReferredby}</br>
                    <strong>Adhar no.:</strong> ${patientAdharno}</p>
                    </td>
                    </tr>
                    </table>

                    <table>
<tr>
<td>
<font color="red">Medicine</font></br>
<font color="green">(मेडिसिन)</font></br></br>

<font color="red">Surgery</font></br>
<font color="green">(सर्जरी)</font></br></br>

<font color="red">Obstetrics & </br>Gynecology</font></br>
<font color="green">(प्रसूति एवं स्त्री रोग))</font></br></br>

<font color="red">Orthopedics</font></br>
<font color="green">(हड्डी रोग)</font></br></br>

<font color="red">Ophthalmology</font></br>
<font color="green">(नेत्र)</font></br></br>

<font color="red">Cardiology</font></br>
<font color="green">(ह्रदय रोग)</font></br></br>

<font color="red">Neuro Surgery</font></br>
<font color="green">(न्यूरोसर्जरी)</font></br></br>

<font color="red">Nephrology</font></br>
<font color="green">(नेफ़्रोलॉजी)</font></br></br>

<font color="red">Dental</font></br>
<font color="green">(दन्तचिकित्सा)</font></br></br>

<font color="red">Pathology</font></br>
<font color="green">(विकृति प्रयोगशाला)</font></br></br>
</td>
</tr>
</table>

</br></br></br></br></br></br></br></br>

<img src="receipt-header.png" width="775"></br>
 <table>
     <tr>
      <td>
       <p> 
         <strong>UHID:</strong> ${patientUHID}</br>
          <strong>Name:</strong> ${patientName}</br>
         <strong>Age:</strong> ${patientAge}</br>
         <strong>Gender:</strong> ${patientGender}</br>
        </td>
  <td>
          <p> 
                    <strong>Billno:</strong> ${patientBillno}</br>
                    <strong>Billdate:</strong> ${patientBilldate}</br>
                    <strong>Pannel:</strong> ${patientPannel}</br>
                    <strong>Adhar no.:</strong> ${patientAdharno}</p>
                    </td>
                    </tr>
                    </table>
                    <hr width="1000" align="left">
                    <table border="1">
                        <tr>
                            <th>As per rule, Particulars/Amount of the bill and the reason of the Amount is mentioned here. </th>
                            <th>AMOUNT</th>
                            </tr>
                        <tr>
                            <td> <strong>Doctor's Prescription fees</strong></td>
                            <td><p>${patientdocfees}</p></td>
                        </tr>
                        <tr>
                            <td> <strong>Discount</strong></td>
                            <td><p>${patientdocfeesdiscount}</p></td>

                        <tr>
                            <td> <strong>TOTAL OPD AMOUNT</strong></td>
                            <td><p>${patienttotal}</p></td>
                            </tr>
                            </table>


                `;


                // Append the patient info to the display area
                displayArea.appendChild(patientInfo);

                // Clear the form inputs after submission
                form.reset();
            } else {
                alert("Please fill out all fields.");
            }
        });
    </script>


</body>
</html>
