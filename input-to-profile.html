<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>PROFILE DATA ENTRY PAGE</title>
    <style>
        .display-container {
            margin-top: 20px;
        }
        .Emp-info {
            margin-bottom: 10px;
        }
    </style>
     
     <style>
        .my-button {
      background-color: #0a0af0;
      color: white;
      border: none;
      padding: 15px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
      border-radius: 12px;
      transition: background-color 0.3s;
    }

    .my-button:hover {
      background-color: #45a049;
    }
  </style>

<style>
    .styled-input {
      padding: 8px;
      border: 2px solid #007BFF;
      border-radius: 8px;
      font-size: 15px;
      width: 170px;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .styled-input:focus {
      border-color: #0056b3;
      box-shadow: 0 0 8px rgba(0, 123, 255, 0.5);
    }
  </style>

<script>
        function displayDate() {
            // Get current date
            const date = new Date();
            
            // Get day, month, and year
            const day = ("0" + date.getDate()).slice(-2); // Pad single digits with zero
            const month = ("0" + (date.getMonth() + 1)).slice(-2); // Month is zero-indexed
            const year = date.getFullYear();
            
            // Format the date as dd/mm/yyyy
            const formattedDate = `${day}/${month}/${year}`;
            
            // Display the date in the element with id "dateDisplay"
            document.getElementById("dateDisplay").textContent = formattedDate;
        }
    </script>
   
<script>
    // Function to generate a random 5-digit number
    function generateRandomNumber() {
        // Math.random() generates a float between 0 and 1
        // Multiplying by 90000 and adding 10000 gives a number between 10000 and 99999
        const randomNumber = Math.floor(Math.random() * 90000) + 10000;
        document.getElementById("randomNumber").textContent = randomNumber;
    }

    // Trigger random number generation on page load
    window.onload = generateRandomNumber;
</script>

</head>
<body onload="displayDate(), generateRandomNumber()">
<table cellspacing="20">
    <tr><td><img src="NLPD-header logo.png" height="70" width="150"> </td>
        <td><h1><strong>Staff profile</strong></h1></td>
        <td><h1>Date: <span id="dateDisplay"></span><h1></span></td>
        <td><a href="input-to-profile.html"><button class="my-button"><i class="fas fa-sync-alt"></i></i></button></a></td>
        <td><a href="search-from-gsheet.html"><button class="my-button"><i class="fas fa-search"></i></button></a></td>
        <td><a href="index.html"><button class="my-button"><i class="fas fa-sign-out-alt"></i></button></a></td>
        <td><a href="select-work.html"><button class="my-button"><i class="fa fa-home"></i></button></a></td>
        
        </tr>
</table>

        <b>EMP ID:</b><p id="randomNumber"></p>
           
        <!-- Emp Input Form -->
        <table cellspacing="20" cellpadding="20">
          <form id="EmpForm">
            <tr>
              <td bgcolor="lightgreen">
                <label for="EmpNum"><b>EMP ID: </b></label></br>
                <input class="styled-input" type="text" id="EmpNum" name="EmpNum" value="EmpNum : " required></td>
                
                
                <td>
                  <label for="EmpName"><b>Name:</b></label></br>
                  <input class="styled-input" type="text" id="EmpName" name="EmpName" value="Name : " required></td>
                  
                  <td>
                    <label for="EmpAge"><b>Age:</b></label></br>
                    <input class="styled-input"type="text" id="EmpAge" name="EmpAge" value="Age : " required></td>
                    
                    <td>
            <label for="EmpGender"><b>Gender:</b></label></br>
            <input class="styled-input" type="text" id="EmpGender" name="EmpGender" value="Gender : " required></td>
            </tr>
            
            <tr>
              <td>
                <label for="EmpAddress"><b>Address:</b></label></br>
                <input class="styled-input" type="text" id="EmpAddress" name="EmpAddress" value="Address : " required></td>
                
                <td>
                  <label for="EmpDOB"><b>Date:<span id="dateDisplay"></span></b></label></br>
                  <input class="styled-input" type="date" id="EmpDOB" name="EmpDOB"  value="Date : "required></td>
        
        <td>
        <label for="EmpContact"><b>Contact:</b></label></br>
        <input class="styled-input" type="text" id="EmpContact" name="EmpContact" value="Contact : " required></td>
        </tr>

        <td>
        <label for="EmpAdharno"><b>Adhar No.:</b></label></br>
        <input class="styled-input" type="text" id="EmpAdharno" name="EmpAdharno" value="Adhar no : " required></td>
        
      </tr>
      <td>
        <button class="my-button" type="submit">Submit</button>
        <button class="my-button" type="submit">Reset</button>
        
    </form>
</td></tr>
    </table>

    <div class="display-container" id="displayArea">
        <!-- Display Emp Data here -->
      </div>
      
   <script>
      document.getElementById('EmpForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const formData = new FormData(this);
        fetch('https://script.google.com/macros/s/AKfycbwkyFwBCzLAkjgqypontnlpLlowR07-Z-WikgqOe-a9iQ_snGky40j7zZgmtqnQ2IJp/exec',{
          method: 'POST',
                body: formData,
            })
            .then(response => response.text())
            .then(data => {
              alert(data);
              document.getElementById('EmpForm').reset();
            })
            .catch(error => {
              console.error('Error:', error);
            });
          });
          </script>
    

    <script>
      // Get the form and display area elements
      const form = document.getElementById('EmpForm');
      const displayArea = document.getElementById('displayArea');

      // Listen for form submission
      form.addEventListener('submit', function(event) {
          event.preventDefault();  // Prevent the form from submitting to the server

          // Get Emp data from the input fields
          const EmpNum = document.getElementById('EmpNum').value;
          const EmpName = document.getElementById('EmpName').value;
          const EmpAge = document.getElementById('EmpAge').value;
          const EmpGender = document.getElementById('EmpGender').value;
          const EmpAddress = document.getElementById('EmpAddress').value;
          const EmpDOB = document.getElementById('EmpDOB').value;
          const EmpContact = document.getElementById('EmpContact').value;
          const EmpAdharno = document.getElementById('EmpAdharno').value;
          
          // Check if all fields are filled out
          if (EmpName && EmpAge && EmpGender) {
              // Clear any previous display content
              displayArea.innerHTML = '';

              // Create a container for displaying the Emp data

              const EmpInfo = document.createElement('div');
              EmpInfo.classList.add('Emp-info');
              EmpInfo.innerHTML = `
                  <h3>Emp Information:</h3>
                  <img src="NLPD-header.png" width="775"></br>
                  <table>
                      <tr>
                      <td>
                      <p> 
                  <strong>.</strong> ${EmpNum}</br>
                  <strong>.</strong> ${EmpName}</br>
                  <strong>.</strong> ${EmpAge}</br>
                  <strong>.</strong> ${EmpGender}</br>
                  <strong>.</strong> ${EmpAddress}</p>
                  </td>
                      <td>
                      <p>
                  <strong>.</strong> ${EmpDOB}</br>
                 <strong>.</strong> ${EmpContact}</p>
                  
                  </td>
                  <td>
                      <p> 
                 
                  <strong>.</strong> ${EmpAdharno}</br>
                 
                  </td>
                  </tr>
                  </table>


              `;


              // Append the Emp info to the display area
              displayArea.appendChild(EmpInfo);

              // Clear the form inputs after submission
              form.reset();
          } else {
              alert("Please fill out all fields.");
          }
      });
  </script>


</body>
</html>
